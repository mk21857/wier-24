import{o as e,i as n,a as t,R as o,a0 as s,I as i,g as r,w as a,x as l,a4 as c,a5 as d,a6 as u,C as h,a7 as f,D as p}from"./825e28468d.js";import{i as m}from"./9fb4b19ec3.js";import{throttle as v}from"./4ea6aa4332.js";import{a as g,o as y,c as w,h as b}from"./ac447121df.js";import{p as L,j as C,k as B,l as E,m as _,n as T,o as k,q as S}from"./510f0914a3.js";import{_ as x}from"./f141f5a29b.js";import{s as Z}from"./de2ef5ef52.js";import{w as R,x as P}from"./2be7671a02.js";import"./7abd8ddb57.js";import{t as A}from"./7c6ae762e4.js";import"./a20b5a7092.js";import"./eae60494e1.js";function O(){return O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},O.apply(this,arguments)}var j=function(){function e(e,n){if("string"!=typeof e)throw new TypeError("Expected a string.");if(n instanceof HTMLElement==!1)throw new TypeError("Expected an element.");this.id=e,this.element=n,this.isVisible=!1,this.isLoaded=!1,this.isEmpty=!1}var n=e.prototype;return n.show=function(){this.isVisible=!0},n.hide=function(){this.isVisible=!1},n.setAsLoaded=function(){this.isLoaded=!0,this.isEmpty=!1},n.setAsEmpty=function(){this.isLoaded=!0,this.isEmpty=!0},n.destroy=function(){this.isVisible=!1},e}();function H(e){var n=e.key,t=e.cache,o=e.result;return t[n]instanceof Promise||(t[n]=o()),t[n]}function I(e){return function(n){var t=n.id;return-1!==e.indexOf(t)}}var z=function(){function e(e,n,t){var o=this;this.instances=[],this.writeResults={},this.controlResolver=n,this.service=t,e.forEach((function(e){o.add(e)}))}var n=e.prototype;return n.add=function(e){if(e instanceof j==!1)throw new TypeError("Expected zone instance.");var n=e.element,t=e.id;!0!==this.instances.some((function(e){return e.id===t}))&&(this.instances.push(e),this.service.afterZoneRegistered({element:n,id:t}))},n.show=function(e){var n=this,t=I(e),o=this.instances.filter(t).filter((function(e){return!0===e.isLoaded})).map((function(e){var t=e.isVisible;return e.show(),t?Promise.resolve(e):n.controlResolver.resolve(e).then((function(){return e}))}));return Promise.all(o)},n.hide=function(e){var n=this,t=I(e),o=this.instances.filter(t).filter((function(e){return!0===e.isLoaded})).map((function(e){var t=e.isVisible;return e.hide(),t?n.controlResolver.resolve(e).then((function(){return e})):Promise.resolve(e)}));return Promise.all(o)},n.write=function(e){var n=this,t=I(e),o=this.instances.filter(t).filter((function(e){return!1===e.isLoaded})),s=o.map((function(e){return{element:e.element,id:e.id}}));this.service.beforeWriteZones(s);var i=o.map((function(e){var t=e.element,o=e.id;return H({key:o,cache:n.writeResults,result:function(){return n.service.writeZone({element:t,id:o})}}).then((function(t){!t?e.setAsEmpty():e.setAsLoaded();var o=e.isVisible;return e.show(),o?Promise.resolve(e):n.controlResolver.resolve(e).then((function(){return e}))}))}));return this.service.afterWriteZones(s),Promise.all(i)},n.destroy=function(){this.instances.forEach((function(e){e.destroy()})),this.instances=[]},e}(),V=function(){function e(){this._shouldTriggerControlCache={},this._onInitialControlTriggerCache={}}var n=e.prototype;return n.shouldTriggerControl=function(){return Promise.resolve(!1)},n.onInitialControlTrigger=function(){return Promise.resolve()},n.onZoneShow=function(){},n.onZoneHide=function(){},n.destroy=function(){},e}(),q=function(){function e(e){var n=this;void 0===e&&(e=[]),this.zones=[],this.controls=[],e.forEach((function(e){n.addControl(e)}))}var n=e.prototype;return n.addControl=function(e){if(e instanceof V==!1)throw new TypeError("Expected control instance.");this.controls.push(e)},n.resolve=function(e){var n=e.element,t=e.id,o=e.isLoaded,s=e.isEmpty,i=e.isVisible;!1===this.zones.some((function(e){return e.id===t}))&&this.zones.push(e);var r=this.controls.map((function(r){return H({key:t,cache:r._shouldTriggerControlCache,result:function(){return r.shouldTriggerControl({isEmpty:s,element:n,id:t})}}).then((function(e){return o?e?H({key:t,cache:r._onInitialControlTriggerCache,result:function(){return r.onInitialControlTrigger({isEmpty:s,element:n,id:t})}}):Promise.reject({reason:"UntriggeredControl"}):Promise.reject({reason:"ZoneNotLoaded"})})).then((function(o){var a=e.isVisible;return i&&a&&r.onZoneShow({isEmpty:s,element:n,id:t,initialControlTriggerResult:o}),i||a||r.onZoneHide({isEmpty:s,element:n,id:t,initialControlTriggerResult:o}),r})).catch((function(e){if("object"==typeof e&&("UntriggeredControl"===e.reason||"ZoneNotLoaded"===e.reason))return r;throw e}))}));return Promise.all(r)},n.destroy=function(){var e=this,n=[];this.controls.forEach((function(t){var o=t._shouldTriggerControlCache,s=t._onInitialControlTriggerCache;e.zones.forEach((function(e){var i=e.element,r=e.id,a=e.isEmpty,l=Promise.resolve(o[r]||!1).then((function(e){e&&Promise.resolve(s[r]||void 0).then((function(e){t.destroy({isEmpty:a,element:i,id:r,initialControlTriggerResult:e})}))}));n.push(l)}))})),Promise.all(n).then((function(){n=null})),this.zones=[],this.controls=[]},e}(),D=function(){function e(){this._resolveAll=function(){}}var n=e.prototype;return n.calculate=function(){},n.resolve=function(){this._resolveAll()},n.destroy=function(){},e}(),M=function(){function e(e,n){var t=this;if(void 0===n&&(n=[]),e instanceof z==!1)throw new TypeError("Expected zones instance.");this.zones=e,this.contexts=[],n.forEach((function(e){t.addContext(e)}))}var n=e.prototype;return n.addContext=function(e){var n=this;if(e instanceof D==!1)throw new TypeError("Expected context instance.");e._resolveAll=function(){n.resolve()},this.contexts.push(e)},n.resolve=function(){if(this.zones instanceof z==!1)return Promise.resolve();var e=this.zones.instances.map((function(e){return e.id})),n=this.contexts.reduce((function(e,n){var t=e.hidden,o=e.visible,s=n.calculate(o),i=s.visible,r=s.hidden;return{visible:i,hidden:[].concat(t,r)}}),{hidden:[],visible:e}),t=n.hidden,o=n.visible;return Promise.all([this.zones.hide(t),this.zones.show(o),this.zones.write(o)])},n.destroy=function(){this.contexts.forEach((function(e){e.destroy()})),this.zones=null,this.contexts=[]},e}(),W=function(){function e(){}var n=e.prototype;return n.afterZoneRegistered=function(){},n.beforeWriteZones=function(){},n.writeZone=function(){return Promise.resolve(!0)},n.afterWriteZones=function(){},n.destroy=function(){},e}(),N=function(){function e(e){void 0===e&&(e={});var n=e,t=n.zones,o=void 0===t?[]:t,s=n.service,i=void 0===s?null:s,r=n.control,a=void 0===r?[]:r,l=n.context,c=void 0===l?[]:l;if(i instanceof W==!1)throw new TypeError("Expected a service.");var d=o.map((function(e){var n=e.element,t=e.id;return new j(t,n)}));this.service=i,this.controlResolver=new q(a),this.zones=new z(d,this.controlResolver,this.service),this.contextResolver=new M(this.zones,c)}var n=e.prototype;return n.resolve=function(){return this.contextResolver.resolve().then((function(){}))},n.addControl=function(e){this.controlResolver.addControl(e)},n.addContext=function(e){this.contextResolver.addContext(e)},n.addZone=function(e){var n=e.element,t=e.id;this.zones.add(new j(t,n))},n.destroy=function(){this.service.destroy(),this.controlResolver.destroy(),this.contextResolver.destroy(),this.zones.destroy()},e}();const F=function(e){void 0===e&&(e={});var n=new N(e);return["resolve","addControl","addContext","addZone","destroy"].reduce((function(e,t){var o;return O({},e,((o={})[t]=n[t].bind(n),o))}),{})};function U(){return U=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},U.apply(this,arguments)}var $=function(e){return e};var Q=function(e){return function(n){return n[e]}};var J,Y,G=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};function K(e,n,t,o){return e.call(o,n[t],t,n)}var X=function(e,n,t){var o,s=0;for(o in null==J&&function(){for(var e in Y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],J=!0,{toString:null})J=!1}(),e)if(!1===K(n,e,o,t))break;if(J)for(var i=e.constructor,r=!!i&&e===i.prototype;(o=Y[s++])&&("constructor"===o&&(r||!G(e,o))||e[o]===Object.prototype[o]||!1!==K(n,e,o,t)););};var ee=function(e,n,t){X(e,(function(o,s){if(G(e,s))return n.call(t,e[s],s,e)}))};var ne=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var te=function(e,n){return ne(e)===n},oe=Array.isArray||function(e){return te(e,"Array")};function se(e,n){for(var t=-1,o=e.length;++t<o;)if(ie(e[t],n))return!0;return!1}function ie(e,n){return e&&"object"==typeof e&&n&&"object"==typeof n?oe(e)&&oe(n)?function(e,n){for(var t=-1,o=n.length;++t<o;)if(!se(e,n[t]))return!1;return!0}(e,n):function(e,n){var t=!0;return ee(n,(function(n,o){if(!ie(e[o],n))return t=!1})),t}(e,n):e===n}var re=ie;var ae=function(e,n){if(null==e)return $;switch(typeof e){case"function":return void 0!==n?function(t,o,s){return e.call(n,t,o,s)}:e;case"object":return function(n){return re(n,e)};case"string":case"number":return Q(e)}};var le=function(e,n,t){n=ae(n,t);var o=[];if(null==e)return o;for(var s,i=-1,r=e.length;++i<r;)n(s=e[i],i,e)&&o.push(s);return o};function ce(e,n){return e===n}var de=function(e,n){return n=n||ce,le(e,(function(e,t,o){for(var s=o.length;++t<s;)if(n(e,o[t]))return!1;return!0}))};var ue=function(e,n,t){n=ae(n,t);var o=!0;if(null==e)return o;for(var s=-1,i=e.length;++s<i;)if(!n(e[s],s,e)){o=!1;break}return o};var he=function(e,n,t){if(t=t||0,null==e)return-1;for(var o=e.length,s=t<0?o+t:t;s<o;){if(e[s]===n)return s;s++}return-1};var fe=function(e,n){return-1!==he(e,n)};var pe=function(e,n,t){var o=e.length;n=null==n?0:n<0?Math.max(o+n,0):Math.min(n,o),t=null==t?o:t<0?Math.max(o+t,0):Math.min(t,o);for(var s=[];n<t;)s.push(e[n++]);return s};var me=function(e){var n=pe(arguments,1);return le(de(e),(function(e){return ue(n,(function(n){return fe(n,e)}))}))};var ve=function(e,n,t){n=ae(n,t);var o=!1;if(null==e)return o;for(var s=-1,i=e.length;++s<i;)if(n(e[s],s,e)){o=!0;break}return o};var ge=function(e){var n=pe(arguments,1);return le(de(e),(function(e){return!ve(n,(function(n){return fe(n,e)}))}))};function ye(e){for(var n=[],t=Object.keys(e),o=0;o<t.length;o++)n.push(e[t[o]]);return n}const we=function(e){var n,t;function o(n){var t;return(t=e.call(this)||this).contexts=t.setupContexts(n),t.listen(),t}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var s=o.prototype;return s.setupContexts=function(e){return function(e){for(var n=[],t=Object.keys(e),o=0;o<t.length;o++)n.push([t[o],e[t[o]]]);return n}(e).reduce((function(e,n){var t,o=n[0],s=n[1];return U({},e,((t={})[o]={mediaQuery:window.matchMedia(o),zones:s,listener:null},t))}),{})},s.listen=function(){var e=this;ye(this.contexts).forEach((function(n){n.listener=function(n){(n.matches||!1===e.isAnyContextActive())&&e.resolve()},n.mediaQuery.addListener(n.listener)}))},s.unlisten=function(){ye(this.contexts).forEach((function(e){e.mediaQuery.removeListener(e.listener)}))},s.isAnyContextActive=function(){return ye(this.contexts).some((function(e){return e.mediaQuery.matches}))},s.calculate=function(e){var n=me(this.getVisibleZones(),e);return{hidden:ge(e,n),visible:n}},s.getVisibleZones=function(){return ye(this.contexts).reduce((function(e,n){return n.mediaQuery.matches?[].concat(e,n.zones):e}),[])},s.destroy=function(){this.unlisten(),this.contexts={}},o}(D);function be(e,n,t){""!==n.trim()&&n.split(" ").map((function(e){return e.trim()})).filter((function(e){return""!==e})).forEach((function(n){e.classList[t](n)}))}function Le(e,n){be(e,n,"add")}function Ce(e,n){be(e,n,"remove")}const Be=function(e){var n,t;function o(n){var t;void 0===n&&(n={}),t=e.call(this)||this;var o=n,s=o.isVisible,i=void 0===s?"":s,r=o.isHidden,a=void 0===r?"":r,l=o.isLoaded,c=void 0===l?"":l,d=o.isEmpty,u=void 0===d?"":d;return t.elements=[],t.classes={isVisible:i,isHidden:a,isLoaded:c,isEmpty:u},t}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var s=o.prototype;return s.shouldTriggerControl=function(){return Promise.resolve(!0)},s.onInitialControlTrigger=function(e){var n=e.element,t=e.isEmpty;return this.elements.push(n),Le(n,this.classes.isLoaded),t&&Le(n,this.classes.isEmpty),Promise.resolve()},s.onZoneShow=function(e){var n=e.element;Ce(n,this.classes.isHidden),Le(n,this.classes.isVisible)},s.onZoneHide=function(e){var n=e.element;Ce(n,this.classes.isVisible),Le(n,this.classes.isHidden)},s.destroy=function(){var e=this;[this.classes.isHidden,this.classes.isLoaded,this.classes.isEmpty].join(" ").split(" ").filter((function(e){return""!==e.trim()})).forEach((function(n){e.elements.forEach((function(e){Ce(e,n)}))}))},o}(V);function Ee(e,n){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const Te=function(n){var t,o;function s(t){var o;void 0===t&&(t={}),(o=n.call(this)||this).slots={},o.adUnitPaths={},o.filledZoneCallbacks={},o.emptyZoneCallbacks={},o.resolvedSlots={},o.slotResolvedZones=[],o.refreshedZones=[],o.displayedZones=[],o.sideEffects=e();var s=t,i=s.zones,r=void 0===i?[]:i,a=s.onSetup,l=void 0===a?function(){}:a,c=s.refreshZones,d=void 0===c?o.refreshZones:c,u=s.displayZone,h=void 0===u?o.displayZone:u;return o.refreshZones=d.bind(_e(o)),o.displayZone=h.bind(_e(o)),r.forEach((function(e){var n=e.id,t=e.adUnitPath,s=e.slot;o.addZone({id:n,adUnitPath:t,slot:s})})),o.cmd((function(){o.setupService(),l.call(_e(o)),o.setupEvents()})),o}o=n,(t=s).prototype=Object.create(o.prototype),t.prototype.constructor=t,Ee(t,o);var i=s.prototype;return i.addZone=function(e){var n=e.id,t=e.adUnitPath,o=e.slot;n in this.slots&&n in this.adUnitPaths||(this.slots[n]=o,this.adUnitPaths[n]=t)},i.cmd=function(e){void 0!==window.googletag&&window.googletag.cmd.push(e)},i.setupService=function(){void 0!==window.googletag&&(window.googletag.pubadsReady||(window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()))},i.setupEvents=function(){var e=this;void 0!==window.googletag&&this.sideEffects.add((function(){var n=function(n){var t=n.slot.getAdUnitPath(),o=n.slot.getResponseInformation(),s=e.isZoneEmpty(o)?e.emptyZoneCallbacks[t]:e.filledZoneCallbacks[t];"function"==typeof s&&s(),delete e.filledZoneCallbacks[t],delete e.emptyZoneCallbacks[t]};return window.googletag.pubads().addEventListener("slotRenderEnded",n),function(){window.googletag.pubads().removeEventListener("slotRenderEnded",n)}}))},i.displayZone=function(e){var n=e.element;e.id,void 0!==window.googletag&&window.googletag.display(n.id)},i.refreshZones=function(e){void 0!==window.googletag&&window.googletag.pubads().refresh(e)},i.beforeWriteZones=function(e){var n=this;this.cmd((function(){0!==e.length&&e.filter((function(e){var t=e.id;return-1===n.slotResolvedZones.indexOf(t)&&t in n.slots==!0})).forEach((function(e){var t=e.id;n.slotResolvedZones.push(t),n.resolvedSlots[t]=n.slots[t]()}))}))},i.afterWriteZones=function(e){var n=this;this.cmd((function(){if(0!==e.length){var t=e.filter((function(e){var t=e.id;return-1===n.refreshedZones.indexOf(t)&&t in n.slots==!0})).map((function(e){var t=e.id;return n.refreshedZones.push(t),n.resolvedSlots[t]}));0!==t.length&&n.refreshZones(t)}}))},i.writeZone=function(e){var n=this,t=e.element,o=e.id;return new Promise((function(e){var s=n.adUnitPaths[o];n.filledZoneCallbacks[s]=function(){return e(!0)},n.emptyZoneCallbacks[s]=function(){return e(!1)},n.cmd((function(){-1===n.displayedZones.indexOf(o)&&o in n.slots==!0&&(n.displayedZones.push(o),n.displayZone({element:t,id:o}))}))}))},i.isZoneEmpty=function(e){return null===e},i.destroy=function(){this.sideEffects.removeAll()},s}(W);class ke extends D{constructor(n=null){super(),this.sideEffects=e(),this.zoneName=n,this.element=document.querySelector(`[data-zone-id="${this.zoneName}"]`),this.mobileContext=window.matchMedia("screen and (max-width:600px)"),this.isMobileZone=this.zoneName.includes("_mobile")}shouldResolve(){return!this.isMobileZone||this.isMobileZone&&this.mobileContext.matches}listen(){}unlisten(){this.sideEffects.removeAll()}calculate(e){if(e.some((e=>this.zoneName===e))){const n=e.filter((e=>this.zoneName!==e));return this.isVisible?{visible:[...n,this.zoneName],hidden:[]}:{visible:n,hidden:[this.zoneName]}}return{visible:e,hidden:[]}}destroy(){this.unlisten()}}class Se extends ke{constructor(e,n){super(e),this.fixedPosition=n}listen(){if(null===this.element)return;const e=this.element?.closest(".EntityList-item")??this.element;null!==e&&this.sideEffects.add((()=>{e.classList.add("is-viewportListenerAware");const n=m(e,{scrollResizeHandler:e=>v(300,e),threshold:this.fixedPosition,onEnter:()=>{this.shouldResolve()&&(e.classList.remove("is-viewportListenerAware"),this.isVisible=!0,this.resolve(),this.unlisten())}});return()=>{e.classList.remove("is-viewportListenerAware"),n.destroy()}}))}}class xe extends ke{constructor(e,n){super(e),this.selector=n}listen(){if(null===this.element)return;const e=document.querySelector(this.selector);null!==e&&this.sideEffects.add((()=>{e.classList.add("is-viewportListenerAware");const n=m(e,{scrollResizeHandler:e=>v(300,e),onEnter:()=>{this.shouldResolve()&&(e.classList.remove("is-viewportListenerAware"),this.isVisible=!0,this.resolve(),this.unlisten())}});return()=>{e.classList.remove("is-viewportListenerAware"),n.destroy()}}))}}class Ze extends ke{constructor(e,n){super(e),this.entityItemPosition=n}listen(){if(null===this.element)return;const e=Array.prototype.slice.call(document.querySelectorAll(".EntityList .EntityList-item:not(.EntityList-item--banner)"))[this.entityItemPosition]??null;null!==e&&this.sideEffects.add((()=>{e.classList.add("is-viewportListenerAware");const n=m(e,{scrollResizeHandler:e=>v(300,e),onEnter:()=>{this.shouldResolve()&&(e.classList.remove("is-viewportListenerAware"),this.isVisible=!0,this.resolve(),this.unlisten())}});return()=>{e.classList.remove("is-viewportListenerAware"),n.destroy()}}))}}class Re extends ke{constructor(e,n){super(e),this.percentage=n}listen(){if(null===this.element)return;let[e]=Array.prototype.slice.call(document.querySelectorAll(".EntityList"))??null;if(e=e?.closest(".block-standard")??null,null===e)return;const t="undefined"!=typeof ResizeObserver&&"undefined"!=typeof MutationObserver;let o=null;this.sideEffects.add((()=>{const e=e=>{o=e};return n.subscribe("viewportContext:visibleElementHash",e),()=>{n.unsubscribe("viewportContext:visibleElementHash",e)}})),this.sideEffects.add((()=>{if(!t)return()=>{};const e=new ResizeObserver((()=>{if(this.shouldResolve()&&(this.isVisible&&this.unlisten(),o))try{document.querySelector(o)?.scrollIntoView()}catch{}}));return e.observe(this.element),()=>{e.disconnect()}})),this.sideEffects.add((()=>{if(!t)return()=>{};const e=new MutationObserver((e=>{if(this.shouldResolve())for(const n of e)"attributes"===n.type&&"class"===n.attributeName&&n.target.classList.contains("is-contentEmpty")&&this.unlisten()}));return e.observe(this.element,{attributes:!0,attributeFilter:["class"]}),()=>{e.disconnect()}})),this.sideEffects.add((()=>{let n,o;const s=v(600,(()=>{if(!this.shouldResolve())return;n??=g(e).top,o??=y(e);Math.max(window.scrollY-n,0)>=o*this.percentage&&(this.isVisible=!0,this.resolve(),t||this.unlisten())}));return window.addEventListener("scroll",s,!1),()=>{window.removeEventListener("scroll",s,!1)}}))}}const Pe=(e=[])=>{const n=e.map((({zoneId:e,type:n})=>0===n?new Se(e,400):1===n?new xe(e,".EntityList--Regular .EntityList-groupTitle"):2===n?new Ze(e,4):3===n?new Re(e,.6):4===n?new Re(e,.7):5===n?new Ze(e,14):6===n?new Ze(e,10):null)).filter((e=>null!==e));return n.forEach((e=>{e.listen()})),n};function Ae(){return new Promise((e=>{let n=20;!function t(o){n--,0===n&&e(),setTimeout((()=>{window.apstag.bids?o():t(o)}),10)}(e)}))}class Oe extends V{async shouldTriggerControl({element:e}){return e.classList.contains("Banner--sky-other")}async onInitialControlTrigger({element:e}){const[n]=await t(Object.assign({el:e.closest(".BannerSticky")},{}),(()=>x((()=>import("./7cc6e9abb0.js")),["7cc6e9abb0.js","4ea6aa4332.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","ac447121df.js","238c105428.css"])));return n}onZoneShow(){n.publish("show:stickyBanner")}onZoneHide(){n.publish("hide:stickyBanner")}destroy({initialControlTriggerResult:e}){e?.remove()}}class je extends V{async shouldTriggerControl({element:e}){return e.classList.contains("Banner--wallpaper")}async onInitialControlTrigger({element:e}){const[n]=await t({el:e,isScrollable:C("isWallpaperBannerScrollable")},(()=>x((()=>import("./b866dac299.js")),["b866dac299.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","83d9d10b02.css"])));return n}async onZoneShow({initialControlTriggerResult:e,element:t,isEmpty:o}){const s=t.closest(".BannerWallpaper");if(n.publish("matchDimension"),s?.classList.contains("is-processed"))return void(o?(e.removeLayoutHelper(),e.hide()):(e.addLayoutHelper(),e.show()));const i=s?.querySelector(":scope .NjuskaloBannerWallpaperLeftSide"),r=s?.querySelector(":scope .NjuskaloBannerWallpaperRightSide"),a=s?.querySelector(":scope .BannerWallpaper-side--left"),l=s?.querySelector(":scope .BannerWallpaper-side--right");if(null!==i){const e=i.querySelector(":scope a img");Z(e,"homepage.caption.left-wallpaper"),a?.append(i)}if(null!==r){const e=r.querySelector(":scope a img");Z(e,"homepage.caption.right-wallpaper"),l?.append(r)}await B({wrap:s,condition:()=>"absolute"===w(a,"position")&&"absolute"===w(l,"position")}),o?(e.removeLayoutHelper(),e.hide()):(e.addLayoutHelper(),e.show())}onZoneHide({initialControlTriggerResult:e}){e.removeLayoutHelper(),e.hide(),n.publish("matchDimension")}destroy({initialControlTriggerResult:e}){e?.remove()}}class He extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--billboard")||e.classList.contains("Banner--sky-other")?E("tandemBillboard"):Promise.resolve(!1)}onInitialControlTrigger(){return x((()=>Promise.resolve({})),["fbd9b42eb9.css"])}onZoneShow({element:e}){const t=e.classList.contains("hidden"),o=document.documentElement,s=document.querySelector(".BannerFull");if(e.classList.contains("Banner--billboard")&&o.classList.toggle("BannerHelper--tandemBillboard",!t),(null!==s||e.classList.contains("Banner--sky-other"))&&o.classList.toggle("BannerHelper--tandemSkyscraper",!t),null!==s&&"true"!==s.dataset.switchedPosition){const e=document.querySelector(".Footer");s.dataset.switchedPosition=!0,e.before(s)}n.publish("adjustBottom.stickyBanner")}onZoneHide({element:e}){const n=e.classList.contains("hidden"),t=document.documentElement,o=document.querySelector(".BannerFull");e.classList.contains("Banner--billboard")&&t.classList.toggle("BannerHelper--tandemBillboard",n),(null!==o||e.classList.contains("Banner--sky-other"))&&t.classList.toggle("BannerHelper--tandemSkyscraper",n)}}class Ie extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--floatingMobile")?E("takeoverMobileBanner"):Promise.resolve(!1)}async onInitialControlTrigger(){const[e]=await t({},(()=>x((()=>import("./a2fc169b5d.js")),["a2fc169b5d.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","157fc078e7.css"])));return e}async onZoneShow({initialControlTriggerResult:e}){const n=document.querySelector("#m_takeover_banner");await B({wrap:n,condition:()=>"absolute"===w(n,"position")}),e.show()}onZoneHide({initialControlTriggerResult:e}){e.hide()}destroy({initialControlTriggerResult:e}){e?.remove()}}const ze=e=>{e.addEventListener("click",o(".bannerNjupopExternalLink",(e=>{const n="iphone"===s()?R:P;if(i()){const t=""===n?e.delegateTarget.href:n;e.preventDefault(),window.mobileAppBridge("openExternalURL",[t])}})))};class Ve extends V{async shouldTriggerControl({element:e}){return e.classList.contains("Banner--standardWithTakeover")}async onInitialControlTrigger({element:e}){const n=e;if(null===n.querySelector(":scope #m_takeover_banner"))return ze(n),{instance:{},type:"standard"};const{default:t}=await x((()=>import("./a2fc169b5d.js")),["a2fc169b5d.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","157fc078e7.css"]),o=t();return ze(n),{instance:o,type:"takeover"}}destroy({initialControlTriggerResult:e}){e?.instance?.remove?.()}}class qe extends V{shouldTriggerControl({element:e}){return null!==e.closest(".BannerFloating")?E("sliderBanner"):Promise.resolve(!1)}async onInitialControlTrigger({element:e}){const[{default:n},{default:t},{default:o}]=await Promise.all([x((()=>import("./faf859da7a.js")),["faf859da7a.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","de2ef5ef52.js","abcf53d4e7.js","d896c9814e.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","7b83ae4536.css"]),x((()=>import("./4f249d461e.js")),["4f249d461e.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","53445f8fed.js","d896c9814e.js","cb4b4ac997.css","774bb192a9.css"]),x((()=>import("./c2d2ceeab8.js")),["c2d2ceeab8.js","f141f5a29b.js","825e28468d.js","2be7671a02.js","a20b5a7092.js","eae60494e1.js","d896c9814e.js","ac447121df.js","abcf53d4e7.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","774bb192a9.css"])]),s=_("sliderBannerOptions")||{},i=e.querySelector(":scope .BannerSliderTrigger"),r=new n({el:e.closest(".BannerFloating"),background:s.background,timeout:!1});return new t({el:i,largeBanner:new o({...s,largeCreative:s.largeCreative,verticalHook:i}),floorAdBanner:r,pageWrapHook:document.querySelector(".wrap-main"),countdown:s.countdown}),r}async onZoneShow({initialControlTriggerResult:e,element:n}){const t=n.closest(".BannerFloating");e.addLayoutHelper(),await B({wrap:t,condition:()=>"fixed"===w(t,"position")}),e.show()}onZoneHide({initialControlTriggerResult:e}){e.removeLayoutHelper(),e.hide()}destroy({initialControlTriggerResult:e}){e?.remove()}}const De=[{name:"sidekickBillboardBanner",options:"sidekickBillboardBannerOptions",placeholderClass:"Banner--sidekickLargeBillboard",triggerClass:"BannerSidekickTrigger--sidekickBillboardBanner",closestContainerSelector:".BannerBillboard"},{name:"sidekickHalfpageBanner",options:"sidekickHalfpageBannerOptions",placeholderClass:"Banner--sidekickLargeHalfpage",triggerClass:"BannerSidekickTrigger--sidekickHalfpageBanner",closestContainerSelector:".Banner--sky-home, .Banner--sky-other"},{name:"sidekickMediumBanner",options:"sidekickMediumBannerOptions",placeholderClass:"Banner--sidekickLargeMedium",triggerClass:"BannerSidekickTrigger--sidekickMediumBanner",closestContainerSelector:".Banner--mediumRectangle"}].reduce(((e,n)=>(e[n.name]=function(e){const n=e.name,t=e.options,o=e.placeholderClass,s=e.triggerClass,i=e.closestContainerSelector;return class extends V{shouldTriggerControl({element:e}){return null!==e.closest(i)?E(n):Promise.resolve(!1)}async onInitialControlTrigger({element:e}){const[{default:n},{default:i}]=await Promise.all([x((()=>import("./7962a7877a.js")),["7962a7877a.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","abcf53d4e7.js","d896c9814e.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","53445f8fed.js","cb4b4ac997.css","8a943413f6.css"]),x((()=>import("./cc18d88407.js")),["cc18d88407.js","f141f5a29b.js","4ea6aa4332.js","825e28468d.js","2be7671a02.js","a20b5a7092.js","eae60494e1.js","abcf53d4e7.js","d896c9814e.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","ac447121df.js","8a943413f6.css"])]),r=_(t),a=e.querySelector(`:scope .${s}`),l=Array.prototype.slice.call(document.querySelectorAll(".BannerSidekickLarge")).find((e=>new RegExp(o).test(JSON.parse(e.dataset?.placeholder??"{}").html??""))),c=new i({...r,el:l,largeCreative:r.largeCreative,horizontalHook:document.querySelector(".wrap-content"),followHook:r&&r.followsTrigger?document.querySelector(".BannerSticky"):null});return new n({el:a,largeBanner:c,countdown:r.countdown}),c}destroy({initialControlTriggerResult:e}){e?.remove()}}}(n),e)),{});class Me extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--billboard")?E("pushdown"):Promise.resolve(!1)}async onInitialControlTrigger(){const[e]=await t(Object.assign({labelOff:A("common.banners.pushdown.show_caption"),labelOn:A("common.banners.pushdown.hide_caption"),expanded:!1},_("pushdownOptions")||{}),(()=>x((()=>import("./24e2b10cb1.js")),["24e2b10cb1.js","0b8e793de5.js","9fc7674a5e.js","c99fda43dc.js","758d6ba7a7.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","53445f8fed.js","d896c9814e.js","cb4b4ac997.css","18fa0f2048.js","abcf53d4e7.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","ac447121df.js","2effd7bcc0.css","6b535f5224.css"])));return e}onZoneShow({element:e}){const t=e.closest(".BannerBillboard");t.classList.add("BannerBillboard--pushdown"),t.classList.add("is-active"),t.classList.remove("hidden"),n.publish("load:pushdownBanner")}onZoneHide({element:e}){const n=e.closest(".BannerBillboard");n.classList.add("BannerBillboard--pushdown"),n.classList.add("is-active"),n.classList.add("hidden")}destroy({initialControlTriggerResult:e}){e?.remove()}}function We(e){let n,t;return e.classList.contains("Banner--galleryBottom")?(n=e.closest(".base-entity"),t=e.closest(".BannerMobileContent")):e.classList.contains("Banner--detailviewSummary")?(n=e.closest(".ClassifiedDetail"),t=e.closest(".BannerMobileBillboard")):(n=e.closest(".EntityList"),t=e.closest(".EntityList-bannerContainer")),{$hookElement:n,$wrap:t}}class Ne extends V{async shouldTriggerControl({element:e}){return!!(e.classList.contains("Banner--list")||e.classList.contains("Banner--listTop")||e.classList.contains("Banner--listBottom")||e.classList.contains("Banner--galleryBottom")||e.classList.contains("Banner--detailviewSummary"))&&E("parallaxBanner")}async onInitialControlTrigger({element:e}){const{$hookElement:n}=We(e),[o]=await t({entityHookElement:n},(()=>x((()=>import("./bd2819cd63.js")),["bd2819cd63.js","4ea6aa4332.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","ac447121df.js","d4cdc2904d.css"])));return o}onZoneShow({element:e}){const{$wrap:n}=We(e);n.classList.add("is-bannerParallax")}onZoneHide({element:e}){const{$wrap:n}=We(e);n.classList.remove("is-bannerParallax")}destroy({initialControlTriggerResult:e}){e?.remove()}}class Fe extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--sky-other")||e.classList.contains("Banner--sky-home")?E("halfpageFilmstripBanner"):Promise.resolve(!1)}async onInitialControlTrigger({element:e}){const[n]=await t({el:e.querySelector(":scope .BannerHalfpageFilmstrip")},(()=>x((()=>import("./d503791776.js")),["d503791776.js","f141f5a29b.js","825e28468d.js","2be7671a02.js","a20b5a7092.js","eae60494e1.js","1c4b3aba4a.js","33bceef014.js","93331c192c.css"])));return n}destroy({initialControlTriggerResult:e}){e?.remove()}}class Ue extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--floating")?E("floorAdBanner"):Promise.resolve(!1)}async onInitialControlTrigger({element:e}){const[n]=await t(Object.assign({el:e.closest(".BannerFloating")},_("floorAdBannerOptions")),(()=>x((()=>import("./faf859da7a.js")),["faf859da7a.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","de2ef5ef52.js","abcf53d4e7.js","d896c9814e.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","7b83ae4536.css"])));return n}async onZoneShow({initialControlTriggerResult:e,element:n}){const t=n.closest(".BannerFloating");e.addLayoutHelper(),await B({wrap:t,condition:()=>"fixed"===w(t,"position")}),e.show()}onZoneHide({initialControlTriggerResult:e}){e.removeLayoutHelper(),e.hide()}destroy({initialControlTriggerResult:e}){e?.remove()}}class $e extends V{shouldTriggerControl({element:e}){return e.classList.contains("Banner--billboard")?E("billboard"):Promise.resolve(!1)}async onInitialControlTrigger(){const[e]=await t(_("billboardOptions")||{},(()=>x((()=>import("./0ccf91ba58.js")),["0ccf91ba58.js","825e28468d.js","2be7671a02.js","f141f5a29b.js","a20b5a7092.js","eae60494e1.js","18fa0f2048.js","abcf53d4e7.js","d896c9814e.js","7abd8ddb57.js","7c6ae762e4.js","74f822e782.css","ac447121df.js","2effd7bcc0.css","6ae4e2ee84.css"])));return e}onZoneShow({element:e}){const t=e.closest(".BannerBillboard");t.classList.add("BannerBillboard--billboard"),t.classList.add("is-active"),t.classList.remove("hidden"),n.publish("load:billboardBanner")}onZoneHide({element:e}){const n=e.closest(".BannerBillboard");n.classList.add("BannerBillboard--billboard"),n.classList.add("is-active"),n.classList.add("hidden")}destroy({initialControlTriggerResult:e}){e?.remove()}}class Qe extends V{shouldTriggerControl({element:e}){return Promise.resolve(e.classList.contains("Banner--list")||e.classList.contains("Banner--listTop")||e.classList.contains("Banner--listBottom"))}onZoneShow({element:e,isEmpty:n}){const t=e.closest(".EntityList-bannerContainer"),o=t?.querySelector(":scope iframe");0===(null!==o?b(o):-1)&&t?.classList.add("is-nativeAd"),t?.classList.remove("hidden"),n||t?.classList.add("is-loaded")}onZoneHide({element:e}){const n=e.closest(".EntityList-bannerContainer");n?.classList.add("hidden")}}function Je(e){!function n(){b(e)<250&&setTimeout((()=>{n()}),500)}()}class Ye extends V{shouldTriggerControl({element:e}){return Promise.resolve(e.classList.contains("Banner--mediumRectangle"))}onZoneShow({element:e}){Je(e)}onZoneHide({element:e}){Je(e)}}class Ge extends V{async shouldTriggerControl({element:e}){return null!==e.closest(".BannerMobileBillboard--beta")}onZoneShow({element:e}){e.closest(".BannerMobileBillboard--beta").classList.remove("hidden")}}class Ke extends V{shouldTriggerControl({element:e}){return Promise.resolve(e.classList.contains("Banner--sky-home"))}onZoneShow({element:e,isEmpty:t}){const o=document.querySelector(".with-banner-sky");if(t)return o?.classList.remove("vis-hidden"),void n.publish("matchDimension");if(!0===Boolean(o?.dataset?.layoutCalculated))return;const s=e,i=()=>{b(s)<=260?o?.classList.remove("vis-hidden"):o?.classList.add("vis-hidden"),n.publish("matchDimension")};i(),setTimeout((()=>{i(),null!==o&&(o.dataset.layoutCalculated=!0)}),500)}onZoneHide({isEmpty:e}){const t=document.querySelector(".with-banner-sky");if(e)return t?.classList.remove("vis-hidden"),void n.publish("matchDimension")}}class Xe extends V{shouldTriggerControl({element:e}){const n=e.querySelector(":scope iframe"),t=r("BannerIframePostMessageData");return Promise.resolve("string"==typeof n?.src&&t.some((e=>-1!==n.src.indexOf(e.postMessageDomain))))}onZoneShow({element:e}){const n=e.querySelector(":scope iframe"),t=r("BannerIframePostMessageData");0!==t.length&&x((()=>import("./24ba639fcf.js").then((e=>e.i))),["24ba639fcf.js","a20b5a7092.js"]).then((({default:e})=>{t.forEach((t=>{e.receiveMessage((o=>{!0===o.data.bannerReady&&e.postMessage(t.iframeData,n.src,n.contentWindow)}),t.postMessageDomain)}))}))}}class en extends V{shouldTriggerControl({element:e}){return Promise.resolve(e.classList.contains("Banner--list")&&null!==e.querySelector(":scope .BannerFlexEmbed"))}onZoneShow({element:e}){e.closest(".BannerAlignment-inner").classList.add("BannerAlignment-inner--alpha")}onZoneHide({element:e}){e.closest(".BannerAlignment-inner").classList.remove("BannerAlignment-inner--alpha")}}class nn extends V{shouldTriggerControl({element:e}){return Promise.resolve(e.classList.contains("Banner--myAdsWideSkyscraper"))}onZoneShow(){n.publish("myAdsWideSkyscraperBannerVisible")}onZoneHide(){n.publish("myAdsWideSkyscraperBannerHidden")}}class tn{constructor(){window.startMondoWidget=function(){x((()=>import("./1a20b35563.js")),["1a20b35563.js","a20b5a7092.js","793fe09980.js","9fb4b19ec3.js","510f0914a3.js","f141f5a29b.js","825e28468d.js","2be7671a02.js","eae60494e1.js","4ea6aa4332.js","d896c9814e.js","ac447121df.js"]).then((({default:e})=>{e()}))}}}class on extends Te{setupService(){void 0!==window.googletag&&(window.googletag.pubadsReady||(window.googletag.pubads().setCentering(!0),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()))}}async function sn(e,n,t,o){const s=[];if(!n)return s;const r=await d();let a=null;if(u()){await h(p("amazon_publisher_services"))&&(a=await new Promise((e=>{void 0===window.apstag||"function"!=typeof window.apstag.init?L("apstagReady").then((()=>{Ae().then((()=>{e(window.apstag)}))})):Ae().then((()=>{e(window.apstag)}))})))}if(window.app.addToBannerEnv=T,window.app.processBannerCode=k,i()){const e=document.querySelector(".BannerMobileBillboard"),n=document.querySelector(".base-entity-banner-mobile");null!==e&&n?.append(e)}const{context:l={}}=n,c=[...Pe(t),new we(l)],m=Array.prototype.slice.call(document.querySelectorAll(".Banner:not(.Banner--adsenseForSearch)")),v=F({zones:m.map((e=>({id:e.getAttribute("data-zone-id"),element:e}))),service:new(f()?on:Te)({zones:Object.entries(e()).map((([e,n])=>({id:e,adUnitPath:e,slot:n}))),onSetup:function(){const e=S();null!==e&&r.pubads().setTargeting("res_min",e)},displayZone:function({element:e,id:n}){f()?r.display(e.id):n.includes("interstitial")?this.resolvedSlots[n]&&r.display(this.resolvedSlots[n]):r.display(e.id)},refreshZones:async e=>{if(f());else if(a){const n=e.map((e=>e?.getSlotElementId())),t=o().filter((e=>n.includes(e.slotID)));0!==t.length?a.fetchBids({slots:t,timeout:2e3},(function(n){a.setDisplayBids(),r.pubads().refresh(e)})):r.pubads().refresh(e)}else r.pubads().refresh(e)}}),context:c,control:[new Be({isHidden:"is-hidden hidden",isLoaded:"is-loaded",isEmpty:"is-contentEmpty"})]});return s.push(v),s.map((e=>{new tn,e.addControl(new je),e.addControl(new Oe),e.addControl(new $e),e.addControl(new Me),e.addControl(new Ue),e.addControl(new Ye),e.addControl(new Ge),e.addControl(new Qe),e.addControl(new Ie),e.addControl(new Ne),e.addControl(new Ke),e.addControl(new Fe),e.addControl(new qe),e.addControl(new Ve),e.addControl(new Xe),e.addControl(new en),e.addControl(new nn),e.addControl(new He);const{sidekickBillboardBanner:n,sidekickHalfpageBanner:t,sidekickMediumBanner:o}=De;return e.addControl(new n),e.addControl(new t),e.addControl(new o),e.resolve(),e}))}function rn(e=[]){return(async()=>{a()&&l()&&await c();const[n,t,o,s]=e??[],[i]=t??[];return sn(n,i,o,s)})()}export{rn as default};
